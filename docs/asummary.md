# Monitoring jobs
Keeping track of the tasks already completed, successfully or not, or tasks
still pending can be somewhat annoying. The  `asummary` command is designed
to help you with monitoring this information for running or completed 
array jobs. 

Note that for this to work, your job should do logging using
[`alog`](alog.md).

Given either the CSV file or the task identifier range for a job, and its
log file as generated by `alog`, `asummary` will provide statistics on the
progress of a running job, or a summary on a completed job.

Tasks are classified in one of three categories:
* **completed** means that at least one of the logs contains a record
  of successful termination of the task.
* **failed** means that at least one of the logs contains a termination
  record of the task, and all these records have a nonzero exit code.
* **todo** means that for the task none of the logs contains a 
  termination record. The task may be running already, may have
  been interrupted before it could end or fail, or may yet have to start.

If the log file's name is `bootstrap.pbs.log10493`, and the job was based
on an CSV data file `data.csv`, a summary can be obtained by
```bash
$ asummary  --data data.csv  --log bootstrap.pbs.log10493
```
In case a job has been resumed, you should list all log files relevant to
the job to get correct results.

Since `asummary` parses the data file, it also has the `--sniff` option to
specify the number of bytes to use to determine the dialect of the CSV
file.
For data files that have a single column only, the sniffer gets confused.
It can be switched off using the `--no_sniffer` option.

Of course, `asummary` works independently of `aenv`, so it also supports
keeping track of general job arrays using the `-t` flag.

Sometimes it is useful to explicitly list the task identifiers of all tasks
in each category. This can be accomplished with the `--long` option.
```bash
$ asummary  --data data.csv  --log bootstrap.pbs.log10493 --long
```

Help on the command is printed using the `--help` flag.
